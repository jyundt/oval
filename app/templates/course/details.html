{% extends "base.html" %}

{% block title %}
{{course.name}} Course Details
{% endblock %}

{% block page_content %}
<div class="page-header">
    <h1>Details for Category: {{course.name}}</h1>
{% if current_user.is_authenticated and current_user.has_role('official') %}
    <a class="btn btn-default" href="{{ url_for('course.edit',id=course.id)}}"><span class="glyphicon glyphicon-pencil"></span> Edit course</a>
    <button type=button class="btn btn-danger" data-toggle="modal" data-target="#delete"><span class="glyphicon glyphicon-remove"></span> Delete course</button>
    {{ macros.confirm_delete_modal(course,'course.delete')}}
{% endif %}
</div>
<div class="table-responsive">
<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Race Date</th>
<th>Category</th>
<th>Starters</th>
</tr>
</thead>
<tbody>
{% for race in course.races|sort(attribute='date',reverse = True) %}
<tr>
<td>
<a href="{{ url_for('race.details', id=race.id) }}">{{ race.date.strftime('%m/%d/%Y') }}</a>
</td>
<td>
{{ race.race_class.name }}
</td>
{% if race.starters is none %}
<td>-</td>
{% else %}
<td>{{race.starters}}</td>
{%endif%}
</tr>
{% endfor %}
</tbody>
</table>
</div>

{% endblock %}
