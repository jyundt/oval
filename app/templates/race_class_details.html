{% extends "base.html" %}

{% block title %}
{{race_class.name}} Race Details
{% endblock %}

{% block page_content %}
<div class="page-header">
    <h1>Details for Category: {{race_class.name}}</h1>
{% if current_user.is_authenticated %}
    <a class="btn btn-default" href="{{ url_for('main.race_class_edit',id=race_class.id)}}"><span class="glyphicon glyphicon-pencil"></span> Edit category</a>
    <button type=button class="btn btn-danger" data-toggle="modal" data-target="#delete"><span class="glyphicon glyphicon-remove"></span> Delete category</button>
    {{ macros.confirm_delete_modal(race_class,'main.race_class_delete')}}
{% endif %}
</div>
<div class="table-responsive">
<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Race Date</th>
<th>Participants</th>
</tr>
</thead>
<tbody>
{% for race in race_class.races|sort(attribute='date',reverse = True) %}
<tr>
<td>
<a href="{{ url_for('main.race_details', id=race.id) }}">{{ race.date.strftime('%m/%d/%Y') }}</a>
</td>
<td>
{{race.participants|count}}
</tr>
{% endfor %}
</tbody>
</table>

{% endblock %}
